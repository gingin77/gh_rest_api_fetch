let inPageData = [
  {
    "repo_name": "Authentication_proj",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Authentication_proj/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-21T19:39:30Z",
    "pushed_at": "2017-08-23T22:55:50Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 6886
      },
      {
        "language": "HTML",
        "count": 810
      }
    ]
  },
  {
    "repo_name": "Bent_Creek_Ceramics",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Bent_Creek_Ceramics/languages",
    "primary_repo_lang": "CSS",
    "created_at": "2017-07-22T19:15:34Z",
    "pushed_at": "2017-07-28T03:53:06Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "CSS",
        "count": 13746
      },
      {
        "language": "HTML",
        "count": 11864
      }
    ]
  },
  {
    "repo_name": "blackjack",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/blackjack/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-15T18:59:52Z",
    "pushed_at": "2017-09-25T00:15:58Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 17820
      }
    ]
  },
  {
    "repo_name": "book_collection",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/book_collection/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-30T01:15:38Z",
    "pushed_at": "2017-09-06T19:49:06Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 11119
      },
      {
        "language": "HTML",
        "count": 7704
      },
      {
        "language": "CSS",
        "count": 133
      }
    ]
  },
  {
    "repo_name": "calculator",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/calculator/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-10T14:04:24Z",
    "pushed_at": "2017-09-04T15:05:21Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 17187
      },
      {
        "language": "HTML",
        "count": 2873
      },
      {
        "language": "CSS",
        "count": 1968
      }
    ]
  },
  {
    "repo_name": "code_snippet_organizer",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/code_snippet_organizer/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-09-04T21:35:08Z",
    "pushed_at": "2017-09-08T22:11:42Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 11963
      },
      {
        "language": "JavaScript",
        "count": 10989
      },
      {
        "language": "CSS",
        "count": 830
      }
    ]
  },
  {
    "repo_name": "Customer_database",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Customer_database/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-02T17:31:48Z",
    "pushed_at": "2017-08-14T17:46:58Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 13454
      },
      {
        "language": "CSS",
        "count": 630
      },
      {
        "language": "HTML",
        "count": 420
      }
    ]
  },
  {
    "repo_name": "Date_facts",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Date_facts/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-14T18:12:43Z",
    "pushed_at": "2017-08-14T20:37:01Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 1283
      }
    ]
  },
  {
    "repo_name": "Form_builder",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Form_builder/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-01T16:30:30Z",
    "pushed_at": "2017-08-01T20:15:17Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 4122
      },
      {
        "language": "CSS",
        "count": 940
      },
      {
        "language": "HTML",
        "count": 717
      }
    ]
  },
  {
    "repo_name": "form_pg",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/form_pg/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-10-06T13:11:31Z",
    "pushed_at": "2017-10-09T02:57:22Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 28109
      },
      {
        "language": "HTML",
        "count": 6147
      },
      {
        "language": "CoffeeScript",
        "count": 211
      },
      {
        "language": "CSS",
        "count": 176
      },
      {
        "language": "JavaScript",
        "count": 101
      }
    ]
  },
  {
    "repo_name": "freeshelf",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/freeshelf/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-19T17:59:01Z",
    "pushed_at": "2017-09-27T18:09:06Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 36196
      },
      {
        "language": "HTML",
        "count": 9302
      },
      {
        "language": "CSS",
        "count": 3286
      },
      {
        "language": "JavaScript",
        "count": 1156
      },
      {
        "language": "CoffeeScript",
        "count": 633
      }
    ]
  },
  {
    "repo_name": "gh_language_graph",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/gh_language_graph/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-11-10T06:55:55Z",
    "pushed_at": "2017-11-10T18:28:44Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 6000
      },
      {
        "language": "Ruby",
        "count": 3707
      }
    ]
  },
  {
    "repo_name": "gh_rest_api_fetch",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/gh_rest_api_fetch/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-11-18T05:31:56Z",
    "pushed_at": "2017-11-25T05:33:53Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 27833
      },
      {
        "language": "HTML",
        "count": 2361
      },
      {
        "language": "CSS",
        "count": 689
      }
    ]
  },
  {
    "repo_name": "gingin77.github.io",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/gingin77.github.io/languages",
    "primary_repo_lang": "CSS",
    "created_at": "2017-11-05T05:01:49Z",
    "pushed_at": "2017-11-16T16:25:17Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "CSS",
        "count": 165855
      },
      {
        "language": "HTML",
        "count": 11120
      },
      {
        "language": "JavaScript",
        "count": 2846
      }
    ]
  },
  {
    "repo_name": "github-profile-languages",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/github-profile-languages/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-11-17T13:30:53Z",
    "pushed_at": "2017-09-08T10:52:46Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 25708
      },
      {
        "language": "CSS",
        "count": 4499
      },
      {
        "language": "HTML",
        "count": 3413
      }
    ]
  },
  {
    "repo_name": "GitHub_Data_VCard",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/GitHub_Data_VCard/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-07T17:12:53Z",
    "pushed_at": "2017-08-07T20:13:26Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 1671
      },
      {
        "language": "HTML",
        "count": 1372
      },
      {
        "language": "CSS",
        "count": 887
      }
    ]
  },
  {
    "repo_name": "grades_calculator",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/grades_calculator/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-13T01:58:10Z",
    "pushed_at": "2017-09-15T17:45:00Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 3531
      }
    ]
  },
  {
    "repo_name": "hamming",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/hamming/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-11T22:34:46Z",
    "pushed_at": "2017-09-12T00:30:59Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 2785
      }
    ]
  },
  {
    "repo_name": "hello-world",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/hello-world/languages",
    "primary_repo_lang": null,
    "created_at": "2017-07-10T01:10:27Z",
    "pushed_at": "2017-07-10T01:26:21Z",
    "all_lang_bytes_for_repo": []
  },
  {
    "repo_name": "iTunes_API",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/iTunes_API/languages",
    "primary_repo_lang": "CSS",
    "created_at": "2017-08-17T01:30:24Z",
    "pushed_at": "2017-11-03T18:07:33Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "CSS",
        "count": 7928
      },
      {
        "language": "JavaScript",
        "count": 5646
      },
      {
        "language": "HTML",
        "count": 1692
      }
    ]
  },
  {
    "repo_name": "JS_functions",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/JS_functions/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-07-26T19:16:33Z",
    "pushed_at": "2017-07-26T19:26:56Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 3465
      },
      {
        "language": "HTML",
        "count": 133
      }
    ]
  },
  {
    "repo_name": "memory-game",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/memory-game/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-02T01:09:32Z",
    "pushed_at": "2017-11-02T17:33:17Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 10638
      },
      {
        "language": "CSS",
        "count": 7312
      },
      {
        "language": "HTML",
        "count": 1622
      }
    ]
  },
  {
    "repo_name": "My_first_SQL_project",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/My_first_SQL_project/languages",
    "primary_repo_lang": null,
    "created_at": "2017-09-05T18:16:20Z",
    "pushed_at": "2017-09-05T18:16:58Z",
    "all_lang_bytes_for_repo": []
  },
  {
    "repo_name": "My_iBeer",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/My_iBeer/languages",
    "primary_repo_lang": "CSS",
    "created_at": "2017-07-20T17:15:22Z",
    "pushed_at": "2017-07-22T13:36:10Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "CSS",
        "count": 6712
      },
      {
        "language": "HTML",
        "count": 5770
      }
    ]
  },
  {
    "repo_name": "paperclip_test",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/paperclip_test/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-10-17T18:31:05Z",
    "pushed_at": "2017-10-17T18:31:40Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 25230
      },
      {
        "language": "HTML",
        "count": 6783
      },
      {
        "language": "JavaScript",
        "count": 1156
      },
      {
        "language": "CSS",
        "count": 939
      },
      {
        "language": "CoffeeScript",
        "count": 211
      }
    ]
  },
  {
    "repo_name": "pig",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/pig/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-14T17:01:34Z",
    "pushed_at": "2017-09-15T19:13:34Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 4530
      }
    ]
  },
  {
    "repo_name": "Puppy_CSS_repo",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Puppy_CSS_repo/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-07-19T17:28:30Z",
    "pushed_at": "2017-07-20T02:00:55Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 4661
      },
      {
        "language": "CSS",
        "count": 1246
      }
    ]
  },
  {
    "repo_name": "puppy_recipe_API",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/puppy_recipe_API/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-08T22:46:04Z",
    "pushed_at": "2017-08-09T23:55:29Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 6459
      },
      {
        "language": "HTML",
        "count": 1242
      },
      {
        "language": "CSS",
        "count": 111
      }
    ]
  },
  {
    "repo_name": "question_box_group",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/question_box_group/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-26T17:25:14Z",
    "pushed_at": "2017-09-30T19:07:45Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 36175
      },
      {
        "language": "HTML",
        "count": 626
      }
    ]
  },
  {
    "repo_name": "Quiz_show",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Quiz_show/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-10-02T17:28:31Z",
    "pushed_at": "2017-10-04T19:36:58Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 36029
      },
      {
        "language": "HTML",
        "count": 10221
      },
      {
        "language": "CSS",
        "count": 1600
      },
      {
        "language": "JavaScript",
        "count": 1156
      },
      {
        "language": "CoffeeScript",
        "count": 1055
      },
      {
        "language": "Shell",
        "count": 131
      }
    ]
  },
  {
    "repo_name": "rails_bridge",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/rails_bridge/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-08-26T14:48:54Z",
    "pushed_at": "2017-08-26T18:17:37Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 31068
      },
      {
        "language": "HTML",
        "count": 7474
      },
      {
        "language": "CSS",
        "count": 1991
      },
      {
        "language": "JavaScript",
        "count": 1156
      },
      {
        "language": "CoffeeScript",
        "count": 211
      }
    ]
  },
  {
    "repo_name": "rails_getting_started_blog",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/rails_getting_started_blog/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-26T22:48:07Z",
    "pushed_at": "2017-09-26T22:56:22Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 29713
      },
      {
        "language": "HTML",
        "count": 7929
      },
      {
        "language": "CSS",
        "count": 1245
      },
      {
        "language": "JavaScript",
        "count": 1156
      },
      {
        "language": "CoffeeScript",
        "count": 633
      }
    ]
  },
  {
    "repo_name": "Responsive_layout_assignment",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Responsive_layout_assignment/languages",
    "primary_repo_lang": "CSS",
    "created_at": "2017-07-24T18:21:35Z",
    "pushed_at": "2017-07-25T03:16:33Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "CSS",
        "count": 4936
      },
      {
        "language": "HTML",
        "count": 2363
      }
    ]
  },
  {
    "repo_name": "robot_database",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/robot_database/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-08-16T15:09:49Z",
    "pushed_at": "2017-08-16T21:55:08Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 2765
      },
      {
        "language": "CSS",
        "count": 927
      },
      {
        "language": "JavaScript",
        "count": 703
      }
    ]
  },
  {
    "repo_name": "Robot_reboot_with_mongo",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Robot_reboot_with_mongo/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-08-28T17:49:25Z",
    "pushed_at": "2017-08-29T23:57:56Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 7159
      },
      {
        "language": "JavaScript",
        "count": 3792
      },
      {
        "language": "CSS",
        "count": 1384
      }
    ]
  },
  {
    "repo_name": "Stars_for_Tuesday",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Stars_for_Tuesday/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-07-18T17:15:55Z",
    "pushed_at": "2017-07-18T19:47:15Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 7826
      }
    ]
  },
  {
    "repo_name": "Starting_JS",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Starting_JS/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-07-25T16:39:21Z",
    "pushed_at": "2017-07-25T19:33:01Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 3757
      },
      {
        "language": "HTML",
        "count": 182
      }
    ]
  },
  {
    "repo_name": "stat_tracker_api",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/stat_tracker_api/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-09-08T18:31:59Z",
    "pushed_at": "2017-09-24T04:34:46Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 7479
      }
    ]
  },
  {
    "repo_name": "Thurs_pm_loops_etc",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Thurs_pm_loops_etc/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-07-27T17:34:15Z",
    "pushed_at": "2017-07-27T19:20:13Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 6020
      },
      {
        "language": "CSS",
        "count": 437
      },
      {
        "language": "HTML",
        "count": 422
      }
    ]
  },
  {
    "repo_name": "todolist2",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/todolist2/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-08-17T16:41:33Z",
    "pushed_at": "2017-08-17T23:42:05Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 1629
      },
      {
        "language": "JavaScript",
        "count": 1227
      },
      {
        "language": "CSS",
        "count": 32
      }
    ]
  },
  {
    "repo_name": "tourify_backend",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/tourify_backend/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-10-04T19:45:45Z",
    "pushed_at": "2017-10-06T04:02:46Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 25825
      },
      {
        "language": "HTML",
        "count": 1502
      }
    ]
  },
  {
    "repo_name": "to_do_list",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/to_do_list/languages",
    "primary_repo_lang": "HTML",
    "created_at": "2017-08-16T00:57:28Z",
    "pushed_at": "2017-08-16T02:41:42Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "HTML",
        "count": 4327
      },
      {
        "language": "JavaScript",
        "count": 1831
      }
    ]
  },
  {
    "repo_name": "Weekend_2_assignment",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Weekend_2_assignment/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-07-30T04:18:03Z",
    "pushed_at": "2017-07-31T23:27:16Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 76444
      },
      {
        "language": "HTML",
        "count": 208
      }
    ]
  },
  {
    "repo_name": "widget2",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/widget2/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-11-10T05:20:23Z",
    "pushed_at": "2017-11-10T05:20:42Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 28060
      },
      {
        "language": "HTML",
        "count": 6109
      },
      {
        "language": "JavaScript",
        "count": 1983
      },
      {
        "language": "CSS",
        "count": 889
      }
    ]
  },
  {
    "repo_name": "word_frequency",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/word_frequency/languages",
    "primary_repo_lang": "Ruby",
    "created_at": "2017-09-13T17:47:04Z",
    "pushed_at": "2017-09-14T23:32:23Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "Ruby",
        "count": 3184
      }
    ]
  },
  {
    "repo_name": "Word_game",
    "url_for_all_repo_langs": "https://api.github.com/repos/gingin77/Word_game/languages",
    "primary_repo_lang": "JavaScript",
    "created_at": "2017-08-15T15:13:18Z",
    "pushed_at": "2017-11-04T15:18:06Z",
    "all_lang_bytes_for_repo": [
      {
        "language": "JavaScript",
        "count": 6278
      },
      {
        "language": "HTML",
        "count": 2722
      },
      {
        "language": "CSS",
        "count": 1175
      }
    ]
  }
]

d3.json('static_data/compObj_46_repos.json', function (data) {
  function strToDtSingle (d) {
    return new Date(d)
  }

  let myData = data
  console.log(myData)
  transformLangObj(myData)

  function transformLangObj (myData) {
    myData.map(function (obj) {
      let lObj = obj.all_lang_bytes_for_repo
      let nArr = []
      Object.keys(lObj).forEach(key => {
        let nKVP = {
          language: key,
          count: lObj[key]
        }
        nArr.push(nKVP)
      })
      obj.all_lang_bytes_for_repo = nArr
    })
  }

  let langBytesFirst = makeBytesFirst(myData)

  function makeBytesFirst (myData) {
    let newDataObjsArr = []
    myData.map(function (repObj) {
      let bytObj = repObj.all_lang_bytes_for_repo
      let newDataObj = {}
      if (bytObj.length !== 0) {
        bytObj.map(function (langByteObj) {
          newDataObj = {
            'language': langByteObj.language,
            'count': langByteObj.count,
            'repo_name': repObj.repo_name,
            'pushed_at': repObj.pushed_at,
            'primary_repo_lang': repObj.primary_repo_lang,
            'url_for_all_repo_langs': repObj.url_for_all_repo_langs
          }
          newDataObjsArr.push(newDataObj)
        })
      } else {
        newDataObj = {
          'language': 'Null',
          'count': 0,
          'repo_name': repObj.repo_name,
          'pushed_at': repObj.pushed_at,
          'primary_repo_lang': 'na',
          'url_for_all_repo_langs': repObj.url_for_all_repo_langs
        }
        newDataObjsArr.push(newDataObj)
      }
    })
    return newDataObjsArr
  }

  let sortbyDate = d3.nest()
    .key(function (d) {
      return d.pushed_at
    })
    .sortKeys(d3.ascending)
    .entries(langBytesFirst)

  let minDate = new Date(sortbyDate[0].key),
    maxDate = new Date(sortbyDate[sortbyDate.length - 1].key),
    xMax = addOneWeek(maxDate)
    xMin = subtrOneWeek(minDate)
    console.log(xMin)
    console.log(minDate)

  function addOneWeek (maxDate) {
    let day = maxDate.getDate()
    let month = maxDate.getMonth()
    let yr = maxDate.getFullYear()
    if ((day + 7) < 28) {
      return new Date(yr + '-' + (month + 1) + '-' + (day + 7))
    } else {
      return new Date(yr + '-' + (month + 2) + '-' + 7)
    }
  }

  function subtrOneWeek (minDate) {
    let day = minDate.getDate()
    console.log(day)
    let month = minDate.getMonth()
    let yr = minDate.getFullYear()
    if ((day - 3) < 1) {
      console.log('(day - 3) <= 1)')
      return new Date(yr + '-' + (month) + '-' + 28)
    } else {
      return new Date(yr + '-' + (month + 1) + '-' + (day - 3))
    }
  }

  let margin = {
      top: 10,
      right: 80,
      bottom: 40,
      left: 40
    },
    width = 740 - margin.left,
    height = 340 - margin.top - margin.bottom

  // setup x
  let xScale = d3.scaleTime().domain([xMin, xMax]).range([margin.right, width - margin.left]),
    xValue = function (d) {
      return xScale(strToDtSingle(d.pushed_at))
    },
    xAxis = d3.axisBottom(xScale).ticks(d3.timeWeek.every(2)).tickFormat(d3.timeFormat('%b %e'))

  // setup y
  let yScale = d3.scaleLinear().domain([0, 42000]).range([height - 2, 0]),
    yValue = function (d) {
      return yScale(d.count)
    },
    yAxis = d3.axisLeft(yScale)

  // Add the svg canvas
  let svg = d3.select('body')
    .append('svg')
    .attr('width', width + margin.left)
    .attr('height', height + margin.top + margin.bottom)

  let g = svg.selectAll('g')

  // Add the x Axis
  svg.append('g')
    .attr('transform', 'translate(0,' + height + ')')
    .call(xAxis)
    .append('text')
    .attr('class', 'label')
    .attr('x', (width / 2) + 20)
    .attr('y', 40)
    .text('Date of Most Recent Commit')

  // Add the y Axis
  svg.append('g')
    .attr('transform', 'translate(' + margin.right + ', 0)')
    .call(yAxis)
    .append('text')
    .attr('class', 'label')
    .attr('transform', 'rotate(-90)')
    .attr('y', (-1 * margin.right) + 10)
    .attr('x', 0 - (height / 2))
    .attr('dy', '1em')
    .style('text-anchor', 'middle')
    .text('Number of Bytes Stored')

  // setup dot colors
  let blue = '#457DB7',
    red = '#991B67', /* '#B71808',  */
    purple = '#A99CCD',
    peach = '#E6AC93',  /*  '#CA602E', */
    grey = '#8F8F90',
  cValue = function (d) { return d.language },
  color = d3.scaleOrdinal()
    .domain(['JavaScript', 'Ruby', 'CSS', 'HTML', 'CoffeeScript', 'Shell', 'Null'])
    .range([blue, red, purple, peach, grey, grey, grey])

  // draw dots
  svg.selectAll('dot')
    .data(langBytesFirst)
    .enter().append('circle')
    .attr('r', 3.5)
    .attr('cx', xValue)
    .attr('cy', yValue)
    .style('fill', function (d) { return color(cValue(d)) })
    .on('mouseover', function (d) {
      tooltip.transition()
        .duration(200)
        .style('opacity', 1)
      tooltip.html(d.language + '<br/>' + d.repo_name)
        .style('left', (d3.event.pageX + 4) + 'px')
        .style('top', (d3.event.pageY - 12) + 'px')
    })
    .on('mouseout', function (d) {
      tooltip.transition()
        .duration(200)
        .style('opacity', 0)
    })

  // add the tooltip area to the webpage
  let tooltip = d3.select('body').append('div')
    .attr('class', 'tooltip')
    .style('opacity', 0)

  let lcolor = d3.scaleOrdinal()
    .domain(['JavaScript', 'Ruby', 'CSS', 'HTML', 'CoffeeScript/Shell'])
    .range([blue, red, purple, peach, grey])

  let legend = svg.selectAll('.legend')
    .data(lcolor.domain())
    .enter().append('g')
    .attr('class', 'legend')
    .attr('transform', function (d, i) {
      return 'translate(4,' + i * 18 + ')'
    })

  legend.append('rect')
    .attr('x', margin.right + 4)
    .attr('width', 14)
    .attr('height', 14)
    .style('fill', lcolor)

  legend.append('text')
    .attr('class', 'legend_label')
    .attr('x', margin.right + 22)
    .attr('y', 7)
    .attr('dy', '.35em')
    .style('text-anchor', 'start')
    .text(function (d) { return d })
})
